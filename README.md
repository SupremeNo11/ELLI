# ELLI
This is a experiment of Low Lightting image Enhencement

# 1.低照度图像增强算法
- 直方图均衡化算法
- LIME算法
- Retinex-Net算法
- ...
# 2.低照度图像增强算法评价指标
### **1. PSNR（峰值信噪比，Peak Signal-to-Noise Ratio）**
- **定义**：通过计算处理后图像与参考图像之间的均方误差（MSE）衡量像素级差异。  
  $ \text{PSNR} = 10 \cdot \log_{10}\left(\frac{\text{MAX}^2}{\text{MSE}}\right) $


  - MAX：像素最大值（如255），MSE：均方误差。
- **特点**：
  - **优点**：计算简单，对全局亮度变化敏感。
  - **缺点**：仅关注像素差异，忽略人眼感知特性，尤其在低照度下无法捕捉噪声分布的视觉影响。
- **适用场景**：初步评估图像去噪或增强的保真度，但需结合其他指标。

---

### **2. SSIM（结构相似性指数，Structural Similarity Index）**
- **定义**：从亮度、对比度、结构三方面衡量图像相似性：  
  \[
  \text{SSIM}(x, y) = \frac{(2\mu_x\mu_y + C_1)(2\sigma_{xy} + C_2)}{(\mu_x^2 + \mu_y^2 + C_1)(\sigma_x^2 + \sigma_y^2 + C_2)}
  \]
  - \(\mu\)为均值，\(\sigma\)为方差，\(\sigma_{xy}\)为协方差，\(C_1, C_2\)为稳定常数。
- **特点**：
  - **优点**：更符合人类视觉系统（HVS），对结构信息敏感。
  - **缺点**：对低照度下局部对比度变化和复杂纹理的评估可能不足。
- **适用场景**：评估增强后图像的结构保真度，适合中等复杂度任务。

---

### **3. LPIPS（学习感知图像块相似度，Learned Perceptual Image Patch Similarity）**
- **定义**：基于深度神经网络（如VGG、AlexNet）提取特征，计算特征空间的距离：  
  \[
  \text{LPIPS} = \sum_{l} \frac{1}{H_lW_l} \sum_{h,w} \| \phi_l(I_{\text{ref}})_{h,w} - \phi_l(I_{\text{enh}})_{h,w} \|_2^2
  \]
  - \(\phi_l\)为第\(l\)层网络特征图，\(H_l, W_l\)为特征图尺寸。
- **特点**：
  - **优点**：捕捉高层次语义差异，与人类主观评分高度相关。
  - **缺点**：依赖预训练模型，计算成本高，对低照度图像的特征提取可能不稳定。
- **适用场景**：需高精度感知质量评估的任务（如超分辨率、风格迁移）。

---

### **4. NIQE（自然图像质量评估器，Natural Image Quality Evaluator）**
- **定义**：无参考指标，基于自然图像的统计特征（如亮度、对比度、梯度分布）构建多元高斯模型（MVG），计算测试图像与模型的偏离度：  
  \[
  \text{NIQE} = \sqrt{(\nu_{\text{test}} - \nu_{\text{natural}})^T \Sigma^{-1} (\nu_{\text{test}} - \nu_{\text{natural}})}
  \]
  - \(\nu\)为特征向量，\(\Sigma\)为协方差矩阵。
- **特点**：
  - **优点**：无需参考图像，适合实际低照度场景。
  - **缺点**：对训练数据敏感，低照度下特征统计可能偏离自然图像假设。
- **适用场景**：真实场景中无参考图像的质量评估。

---

### **低照度场景下的综合对比**
| **指标** | **是否需要参考图像** | **计算复杂度** | **感知相关性** | **适用场景**                      |
|----------|----------------------|----------------|----------------|-----------------------------------|
| PSNR     | 是                   | 低             | 低             | 初步保真度评估                    |
| SSIM     | 是                   | 中             | 中             | 结构/对比度保真度评估             |
| LPIPS    | 是                   | 高             | 高             | 高精度感知质量评估（如细节恢复）  |
| NIQE     | 否                   | 中             | 中             | 无参考图像的真实场景质量评估      |

---

### **选择建议**
- **科研场景**：结合PSNR（基础指标）、SSIM（结构指标）、LPIPS（感知指标）全面评估。
- **实际应用**：优先使用NIQE（无参考），辅以SSIM或LPIPS（若有参考图像）。
- **低照度优化**：重点关注LPIPS和NIQE，因其更贴合人眼对噪声、对比度的敏感度。

